<div class="overview profile">
  <div class="col-sm-offset-2 col-sm-8">
   <form editable-form name="editableForm" onaftersave="saveUser()">
    <h1>{{user.username}}
      <i tooltip="{{'Upravit profil' | translate }}"
         ng-show="editRights && !editableForm.$visible"
         tooltip-placement="bottom"
         ng-click="editableForm.$show()"
         class=" pull-right glyphicon glyphicon-edit">
      </i>
    </h1>
    <div ng-hide="editableForm.$visible">
      <dl class="points" ng-show="user.points">
        <dt>{{'Body' | translate }}</dt>
        <dd class="badge" ng-bind="user.points"
          tooltip="{{'přibývají za každou správnou odpověď' | translate }}" 
          tooltip-placement="bottom" ></dd>
      </dl>
    </div>
    <dl ng-show="user.first_name">
      <dt>{{'Jméno' | translate }}</dt>
      <dd editable-text="user.first_name"  e-name="first_name">{{user.first_name}}</dd>
    </dl>
    <dl ng-show="user.last_name">
      <dt>{{'Příjmení' | translate }}</dt>
      <dd editable-text="user.last_name">{{user.last_name}}</dd>
    </dl>
    <dl ng-show="editRights">
      <dt>{{'E-mail' | translate }}</dt>
      <dd editable-text="user.email">{{user.email}}</dd>
    </dl>
    <div class="buttons">
      <span ng-show="editableForm.$visible">
      <div class="checkbox">
        <label>
          <input type="checkbox" ng-model="user.send_emails">
            {{'Poslat mi email při neplnění cílů' | translate}}
        </label>
      </div>
        <br>
        <button type="submit" class="btn btn-primary" ng-disabled="editableForm.$waiting">
          {{'Uložit' | translate}}
        </button>
        <button type="button" class="btn btn-default" ng-disabled="editableForm.$waiting" ng-click="editableForm.$cancel()">
          {{'Zrušit' | translate}}
        </button>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
      </span>
    </div>
    </form>
    <div ng-show="error" ng-bind="error" class="alert alert-danger" ></div>
    <div ng-hide="editableForm.$visible || error">
      <a href="/overview/{{user.username}}">
        {{'Přehled znalostí uživatele' | translate}} {{ user.username && ' - ' + user.username }}
      </a>
      <div ng-show="editRights">
        <br>
        <h4>{{'Sdílej svůj profil' | translate }}</h4>
        <input type="text" value="{{profileUrl}}" class="share-input"
          tooltip-placement="right"
          tooltip="{{'Adresa profilu' | translate}}"/>

      </div>
      <div personal-goals user="{{user.username}}"></div>
      <div ng-if="isOwnProfile" my-subscriptions></div>
    </div>
  </div>
  <div class="clearfix"></div>
</div>
